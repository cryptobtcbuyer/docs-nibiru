(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{422:function(t,s,a){t.exports=a.p+"assets/img/amplification-coefficient-stableswap.dd6ba3a0.gif"},512:function(t,s,a){"use strict";a.r(s);var e=a(0),i=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"stableswaps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stableswaps"}},[t._v("#")]),t._v(" Stableswaps")]),t._v(" "),s("p",[t._v("To synergize with the proliferation of stablecoins and stable pairs in the Cosmos ecosystem, the Nibi-Swap AMM supports "),s("strong",[t._v("stableswap pools")]),t._v(" based on "),s("a",{attrs:{href:"https://curve.fi/files/stableswap-paper.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Curve Finance’s Stableswap curve"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("The stableswap curve operates like a constant-price curve when a portfolio of assets is balanced and tends toward behaving like a constant-product curve if the tokens lose peg.")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mtable",[s("mtr",[s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("(")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("s")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("-")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(")")])],1),s("mspace",{attrs:{width:"1em"}})],1)],1),s("mtd",[s("mrow",[s("mrow"),s("mi",[t._v("ϕ")]),s("mo",[t._v("=")]),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("1")])],1),s("mi",[t._v("n")])],1),s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1),s("mspace",{attrs:{width:"1em"}}),s("mspace",{attrs:{width:"1em"}})],1)],1)],1),s("mtr",[s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("(")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("s")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("n")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("-")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("p")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("u")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(")")])],1),s("mspace",{attrs:{width:"1em"}})],1)],1),s("mtd",[s("mrow",[s("mrow"),s("mo",[t._v("∏")]),s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1),s("mo",[t._v("=")]),s("msup",[s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("mfrac",[s("mrow",[s("mi",[t._v("ϕ")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mi",[t._v("n")])],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\begin{aligned}\n\n\\text{(constant-price)} \\quad& \\phi = \\sum_{i=1}^n x_i \\quad\\quad \\\\\n\\text{(constant-product)} \\quad& \\prod x_i = \\left( \\frac{\\phi}{n} \\right)^n \n\n\\end{aligned}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"2.914548em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"5.329096em","vertical-align":"-2.414548em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-r"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-1.2631509999999997em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"text mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("(")]),s("span",{staticClass:"mord mathrm"},[t._v("c")]),s("span",{staticClass:"mord mathrm"},[t._v("o")]),s("span",{staticClass:"mord mathrm"},[t._v("n")]),s("span",{staticClass:"mord mathrm"},[t._v("s")]),s("span",{staticClass:"mord mathrm"},[t._v("t")]),s("span",{staticClass:"mord mathrm"},[t._v("a")]),s("span",{staticClass:"mord mathrm"},[t._v("n")]),s("span",{staticClass:"mord mathrm"},[t._v("t")]),s("span",{staticClass:"mord mathrm"},[t._v("-")]),s("span",{staticClass:"mord mathrm"},[t._v("p")]),s("span",{staticClass:"mord mathrm"},[t._v("r")]),s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm"},[t._v("c")]),s("span",{staticClass:"mord mathrm"},[t._v("e")]),s("span",{staticClass:"mord mathrm"},[t._v(")")])]),s("span",{staticClass:"mord mspace quad"})])]),s("span",{staticStyle:{top:"1.464518em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"text mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("(")]),s("span",{staticClass:"mord mathrm"},[t._v("c")]),s("span",{staticClass:"mord mathrm"},[t._v("o")]),s("span",{staticClass:"mord mathrm"},[t._v("n")]),s("span",{staticClass:"mord mathrm"},[t._v("s")]),s("span",{staticClass:"mord mathrm"},[t._v("t")]),s("span",{staticClass:"mord mathrm"},[t._v("a")]),s("span",{staticClass:"mord mathrm"},[t._v("n")]),s("span",{staticClass:"mord mathrm"},[t._v("t")]),s("span",{staticClass:"mord mathrm"},[t._v("-")]),s("span",{staticClass:"mord mathrm"},[t._v("p")]),s("span",{staticClass:"mord mathrm"},[t._v("r")]),s("span",{staticClass:"mord mathrm"},[t._v("o")]),s("span",{staticClass:"mord mathrm"},[t._v("d")]),s("span",{staticClass:"mord mathrm"},[t._v("u")]),s("span",{staticClass:"mord mathrm"},[t._v("c")]),s("span",{staticClass:"mord mathrm"},[t._v("t")]),s("span",{staticClass:"mord mathrm"},[t._v(")")])]),s("span",{staticClass:"mord mspace quad"})])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-1.2631509999999997em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord displaystyle textstyle uncramped"}),s("span",{staticClass:"mord mathit"},[t._v("ϕ")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace quad"}),s("span",{staticClass:"mord mspace quad"})])]),s("span",{staticStyle:{top:"1.464518em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord displaystyle textstyle uncramped"}),s("span",{staticClass:"op-symbol large-op mop",staticStyle:{top:"-0.000004999999999977245em"}},[t._v("∏")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"minner"},[s("span",{staticClass:"minner displaystyle textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v("(")])]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("ϕ")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v(")")])])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-1.064em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])])])])])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Variable")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("ϕ")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("ϕ")])])])])]),t._v(" "),s("td",[t._v("Liquidity depth. The  "),s("strong",[t._v("liquidity depth "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("ϕ")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("ϕ")])])])])]),t._v(" denotes the sum of all token quantities when they have an equal price.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x_i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])]),t._v(" "),s("td",[t._v("Reserve amount amount of coin "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])])]),t._v(" "),s("td",[t._v("The total number of tokens. The number of elements in the set "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("{")]),s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1),s("mo",[t._v("}")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\{ x_i \\}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mopen"},[t._v("{")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v("}")])])])]),t._v(".")])])])])]),t._v(" "),s("h2",{attrs:{id:"amplification"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#amplification"}},[t._v("#")]),t._v(" Amplification")]),t._v(" "),s("p",[t._v("How strongly the stableswap curve behaves like a constant-price curve is expressed by a non-negative quantity called the "),s("strong",[t._v('"Amplification", '),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("A")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("A")])])])])]),t._v(". When "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("A")]),s("mo",[t._v("→")]),s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A\\to 0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mrel"},[t._v("→")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),t._v(", the curve behaves more like a constant product, and as "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("A")]),s("mo",[t._v("→")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("∞")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A \\to \\infty")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mrel"},[t._v("→")]),s("span",{staticClass:"mord mathrm"},[t._v("∞")])])])]),t._v(", the curve acts more like a constant-sum.")]),t._v(" "),s("img",{attrs:{src:a(422),alt:"Shows how a Stable Swap curve changes with different values for the amplification A.",title:"Shows how a Stable Swap curve changes with different values for the amplification A."}}),t._v(" "),s("p",[t._v("When changes occur to the reserves of a stableswap pool, we solve for the liquidity depth "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("ϕ")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("ϕ")])])])]),t._v(" using the following this constraint equation:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("A")]),s("msup",[s("mi",[t._v("n")]),s("mi",[t._v("n")])],1),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("1")])],1),s("mi",[t._v("n")])],1),s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mo",[t._v("+")]),s("mi",[t._v("ϕ")]),s("mo",[t._v("=")]),s("mi",[t._v("A")]),s("mi",[t._v("ϕ")]),s("msup",[s("mi",[t._v("n")]),s("mi",[t._v("n")])],1),s("mo",[t._v("+")]),s("mfrac",[s("mrow",[s("msup",[s("mi",[t._v("ϕ")]),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1)],1),s("mrow",[s("msup",[s("mi",[t._v("n")]),s("mi",[t._v("n")])],1),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("msubsup",[s("mo",[t._v("∏")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("1")])],1),s("mi",[t._v("n")])],1),s("msub",[s("mi",[t._v("x")]),s("mi",[t._v("i")])],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("An^n \\left( \\sum_{i=1}^n x_i \\right) + \\phi = A\\phi n^n + \\frac{\\phi^{n+1}}{n^n\\left( \\prod\\limits_{i=1}^n x_i \\right) } \n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"4.0676689999999995em","vertical-align":"-2.3176689999999995em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"minner displaystyle textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("(")])]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v(")")])])]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathit"},[t._v("ϕ")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("ϕ")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.3399999999999996em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.289em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"minner textstyle cramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v("(")])]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.8776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.000005000000000088267em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol small-op mop"},[t._v("∏")])])]),s("span",{staticStyle:{top:"-0.9500050000000002em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("x")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v(")")])])])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("ϕ")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),t._v(" "),s("p",[t._v("This is done iteratively with "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Newton%27s_method",target:"_blank",rel:"noopener noreferrer"}},[t._v("Newton's method"),s("OutboundLink")],1),t._v(", which is useful for approximating roots, zeros, or intercepts of real-valued functions. It's particularly useful here because the constraint equation doesn't have a clear analytical solution. The implementation for this is inside the  "),s("a",{attrs:{href:"https://github.com/NibiruChain/nibiru/blob/fc2e00ce9fb3193997560f3a966883590cfe4044/x/dex/types/pool.go#L399",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("SolveStableswapInvariant")]),t._v(" function of dex/types/pool.go"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=i.exports}}]);