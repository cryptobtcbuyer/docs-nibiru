(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{503:function(t,a,e){"use strict";e.r(a);var i=e(0),r=Object(i.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"perp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#perp"}},[t._v("#")]),t._v(" perp")]),t._v(" "),a("p",{attrs:{synopsis:""}},[t._v("The perp module enables leveraged trading via perpetual swaps.")]),t._v(" "),a("h2",{attrs:{id:"cli-available-commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli-available-commands"}},[t._v("#")]),t._v(" CLI â€” Available Commands")]),t._v(" "),a("h4",{attrs:{id:"transactions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transactions"}},[t._v("#")]),t._v(" Transactions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Command: "),a("code",[t._v("nibid tx perp")])]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-tx-perp-open-position"}},[t._v("open-position")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Alters the current position on a trading pair.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-tx-perp-close-position"}},[t._v("close-position")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-tx-perp-add-margin"}},[t._v("add-margin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-tx-perp-remove-margin"}},[t._v("remove-margin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),a("h4",{attrs:{id:"queries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queries"}},[t._v("#")]),t._v(" Queries")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Command: "),a("code",[t._v("nibid query perp")])]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-query-bank-balances"}},[t._v("trader-position")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Query for account balances by address")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"#nibid-query-bank-total"}},[t._v("params")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Query the total supply of coins of the chain")])])])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"nibid-tx-perp-open-position"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-tx-perp-open-position"}},[t._v("#")]),t._v(" nibid tx perp open-position")]),t._v(" "),a("p",[t._v("Opening a position")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgdHggcGVycCBvcGVuLXBvc2l0aW9uIGJ1eXxzZWxsIHBhaXIgbGV2ZXJhZ2UgcXVvdGVBbXQgYmFzZUFtdExpbWl0IFtmbGFnc10K"}}),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyBleGFtcGxlCm5pYmlkIHR4IHBlcnAgb3Blbi1wb3NpdGlvbiBidXkgdWJ0Yzp1bnVzZCAxMCAxMDAwMDAwIDAgLS1mcm9tIGFkZHIK"}}),t._v(" "),a("h3",{attrs:{id:"nibid-tx-perp-close-position"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-tx-perp-close-position"}},[t._v("#")]),t._v(" nibid tx perp close-position")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgdHggcGVycCBjbG9zZS1wb3NpdGlvbiBbcGFpcl0gW2ZsYWdzXQo="}}),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyBleGFtcGxlCm5pYmlkIHR4IHBlcnAgY2xvc2UtcG9zaXRpb24gdWJ0Yzp1bnVzZCAtLWZyb20gYWRkcgo="}}),t._v(" "),a("h3",{attrs:{id:"nibid-tx-perp-add-margin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-tx-perp-add-margin"}},[t._v("#")]),t._v(" nibid tx perp add-margin")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgdHggcGVycCBhZGQtbWFyZ2luIFtwYWlyXSBbbWFyZ2luXSBbZmxhZ3NdCg=="}}),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyBleGFtcGxlCm5pYmlkIHR4IHBlcnAgYWRkLW1hcmdpbiB1YnRjOnVudXNkIDEwMDAwMDB1bnVzZCAtLWZyb20gYWRkcgo="}}),t._v(" "),a("h3",{attrs:{id:"nibid-tx-perp-remove-margin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-tx-perp-remove-margin"}},[t._v("#")]),t._v(" nibid tx perp remove-margin")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgdHggcGVycCByZW1vdmUtbWFyZ2luIFtwYWlyXSBbbWFyZ2luXSBbZmxhZ3NdCg=="}}),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"IyBleGFtcGxlCm5pYmlkIHR4IHBlcnAgcmVtb3ZlLW1hcmdpbiB1YnRjOnVudXNkIDEwMDAwMDB1bnVzZCAtLWZyb20gYWRkcgo="}}),t._v(" "),a("h3",{attrs:{id:"nibid-query-perp-trader-position"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-query-perp-trader-position"}},[t._v("#")]),t._v(" nibid query perp trader-position")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgcXVlcnkgcGVycCB0cmFkZXItcG9zaXRpb24gW3RyYWRlcl0gW3BhaXJdIFtmbGFnc10K"}}),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyBleGFtcGxlCm5pYmlkIHF1ZXJ5IHBlcnAgdHJhZGVyLXBvc2l0aW9uIG5pYmkxemFhdnZ6eGV6MGVsdW5kdG4zMnFuazlsa204a21jc3o0NGc3eGwgdWJ0Yzp1bnVzZCAtLW5vZGUgdGNwOi8vbG9jYWxob3N0OjI2NjU3Cg=="}}),t._v(" "),a("h3",{attrs:{id:"nibid-query-perp-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nibid-query-perp-params"}},[t._v("#")]),t._v(" nibid query perp params")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgcXVlcnkgcGVycCBwYXJhbXMK"}}),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"parameters-of-nibi-perps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters-of-nibi-perps"}},[t._v("#")]),t._v(" Parameters of Nibi-Perps")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#module-parameters"}},[t._v("Module Parameters")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#feepoolfeeratio"}},[t._v("FeePoolFeeRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#ecosystemfundfeeratio"}},[t._v("EcosystemFundFeeRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#liquidationfeeratio"}},[t._v("LiquidationFeeRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#partialliquidationratio"}},[t._v("PartialLiquidationRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#fundingrateinterval"}},[t._v("FundingRateInterval")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#twaplookbackwindow"}},[t._v("TwapLookbackWindow")])],1)])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#market-specific-parameters"}},[t._v("Market Specific Parameters")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#tradelimitratio"}},[t._v("TradeLimitRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#fluctuationlimitratio"}},[t._v("FluctuationLimitRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#maxoraclespreadlimitratio"}},[t._v("MaxOracleSpreadLimitRatio")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dev/x/perp.html#maintenancemarginratio"}},[t._v("MaintenanceMarginRatio")])],1)])],1)]),t._v(" "),a("h3",{attrs:{id:"module-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-parameters"}},[t._v("#")]),t._v(" Module Parameters")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Parameter")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("FeePoolFeeRatio")]),t._v(" "),a("td",[t._v("0.001 (0.1%)")])]),t._v(" "),a("tr",[a("td",[t._v("EcosystemFundFeeRatio")]),t._v(" "),a("td",[t._v("0.001 (0.1%)")])]),t._v(" "),a("tr",[a("td",[t._v("LiquidationFeeRatio")]),t._v(" "),a("td",[t._v("0.025 (2.5%)")])]),t._v(" "),a("tr",[a("td",[t._v("PartialLiquidationRatio")]),t._v(" "),a("td",[t._v("0.25 (25%)")])]),t._v(" "),a("tr",[a("td",[t._v("FundingRateInterval")]),t._v(" "),a("td",[t._v("30 minutes")])]),t._v(" "),a("tr",[a("td",[t._v("TwapLookbackWindow")]),t._v(" "),a("td",[t._v("900 seconds")])])])]),t._v(" "),a("h3",{attrs:{id:"feepoolfeeratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#feepoolfeeratio"}},[t._v("#")]),t._v(" FeePoolFeeRatio")]),t._v(" "),a("p",[t._v("The fee paid to the treasury for opening/closing a position.")]),t._v(" "),a("h3",{attrs:{id:"ecosystemfundfeeratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ecosystemfundfeeratio"}},[t._v("#")]),t._v(" EcosystemFundFeeRatio")]),t._v(" "),a("p",[t._v("The fee paid to the ecosystem fund for opening/closing a position.")]),t._v(" "),a("h3",{attrs:{id:"liquidationfeeratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#liquidationfeeratio"}},[t._v("#")]),t._v(" LiquidationFeeRatio")]),t._v(" "),a("p",[t._v("When a position gets liquidated (either partial or full), how much of the exchanged notional value is taken as a fee to the liquidator. Half of the fee is given to the liquidator and half of the fee is given to the ecosystem fund.")]),t._v(" "),a("p",[t._v("For example, let's say a position gets liquidated for 100 NUSD. 1.25 NUSD would go to the liquidator and 1.25 NUSD would go to the ecosystem fund.")]),t._v(" "),a("p",[t._v("This parameter also dictates the boundary at which liquidations become full liquidations. Once the margin ratio falls below 2.5%, full liquidations occur because otherwise there won't be enough margin remaining to pay the liquidator and ecosystem fund.")]),t._v(" "),a("h3",{attrs:{id:"partialliquidationratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#partialliquidationratio"}},[t._v("#")]),t._v(" PartialLiquidationRatio")]),t._v(" "),a("p",[t._v("When a position gets partially liquidated, this parameter dictates how much of the position gets liquidated.")]),t._v(" "),a("p",[t._v("For example, if a position goes slightly underwater and is eligible for partial liquidation, a 25% "),a("code",[t._v("PartialLiquidationRatio")]),t._v(" would mean 1/4 of the position size would be liquidated.")]),t._v(" "),a("h3",{attrs:{id:"fundingrateinterval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fundingrateinterval"}},[t._v("#")]),t._v(" FundingRateInterval")]),t._v(" "),a("p",[t._v("How often the funding rate is applied. Please read "),a("RouterLink",{attrs:{to:"/dev/content/perps.html#funding-payments"}},[t._v("here")]),t._v(" for more information about Funding Payments.")],1),t._v(" "),a("h3",{attrs:{id:"twaplookbackwindow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#twaplookbackwindow"}},[t._v("#")]),t._v(" TwapLookbackWindow")]),t._v(" "),a("p",[t._v("How far back to look for time-weighted average price calculations. The default value of 900s means that the past 900s of pricefeed data will be taken into account when calculating the TWAP.")]),t._v(" "),a("h2",{attrs:{id:"market-specific-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#market-specific-parameters"}},[t._v("#")]),t._v(" Market Specific Parameters")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Market")]),t._v(" "),a("th",[t._v("TradeLimitRatio")]),t._v(" "),a("th",[t._v("FluctuationLimitRatio")]),t._v(" "),a("th",[t._v("MaxOracleSpreadRatio")]),t._v(" "),a("th",[t._v("MaintenanceMarginRatio")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("BTC:NUSD")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.0625 (6.25%)")])]),t._v(" "),a("tr",[a("td",[t._v("ETH:NUSD")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.1 (10%)")]),t._v(" "),a("td",[t._v("0.0625 (6.25%)")])])])]),t._v(" "),a("h3",{attrs:{id:"tradelimitratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tradelimitratio"}},[t._v("#")]),t._v(" TradeLimitRatio")]),t._v(" "),a("p",[t._v("Every virtual pool has a parameter called the "),a("code",[t._v("TradeLimitRatio")]),t._v(", which limits how much of the asset reserves a trader can affect in a single transaction. For example, if a virtual pool had 100 BTC and 2,000,000 NUSD, a "),a("code",[t._v("TradeLimitRatio")]),t._v(" of "),a("code",[t._v("0.1")]),t._v(" would only allow the trader to deposit or withdraw up to 10 BTC or 200,000 NUSD. This is done to prevent predatory traders from sending other traders' positions underwater.")]),t._v(" "),a("h3",{attrs:{id:"fluctuationlimitratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fluctuationlimitratio"}},[t._v("#")]),t._v(" FluctuationLimitRatio")]),t._v(" "),a("p",[t._v("The fluctuation limit ratio limits inter-block fluctuations of the reserve assets. For example, if a virtual pool had 100 BTC and 2,000,000 NUSD at block 1, along with a "),a("code",[t._v("FluctuationLimitRatio")]),t._v(" of 0.2, then the maximum amount of reserve asset fluctuation that can happen in block 2 is 20 BTC or 400,000 NUSD. This is also to prevent predatory traders from sending other traders' positions underwater.")]),t._v(" "),a("h3",{attrs:{id:"maxoraclespreadlimitratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maxoraclespreadlimitratio"}},[t._v("#")]),t._v(" MaxOracleSpreadLimitRatio")]),t._v(" "),a("p",[t._v("Every virtual pool has a parameter called the "),a("code",[t._v("MaxOracleSpreadLimitRatio")]),t._v(". It comes into effect in extreme market conditions, when the mark (spot) price has deviated from the index (oracle) price by too much. Liquidations will start happening based on the index price instead of the mark price.")]),t._v(" "),a("p",[t._v("For example, let's imagine a virtual pool of BTC/NUSD and a "),a("code",[t._v("MaxOracleSpreadLimitRatio")]),t._v(" of "),a("code",[t._v("0.1")]),t._v(". One day, the mark price and index price are equal to each other at $1000 (1000 NUSD per BTC). The next day, if the index price stays constant at $1000, but the mark price moves to 1100 or 900, then the market is deemed volatile and the oracle price is used for determining margin ratio and, thus, liquidations. This is to protect traders in times of extreme market volatility.")]),t._v(" "),a("h3",{attrs:{id:"maintenancemarginratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maintenancemarginratio"}},[t._v("#")]),t._v(" MaintenanceMarginRatio")]),t._v(" "),a("p",[t._v("The minimum margin ratio required before a position becomes underwater and can be liquidated.")])],1)}),[],!1,null,null,null);a.default=r.exports}}]);