(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{520:function(e,t,a){"use strict";a.r(t);var i=a(0),o=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"validating-on-testnet"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#validating-on-testnet"}},[e._v("#")]),e._v(" Validating on Testnet")]),e._v(" "),t("p",{attrs:{synopsis:""}},[e._v("Instructions for running a validator node")]),e._v(" "),t("p",[e._v("First, please follow the "),t("a",{attrs:{href:"../testnet"}},[e._v("instructions to join the testnet")]),e._v(".")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",[e._v("We recommend saving the "),t("code",[e._v("chain-id")]),e._v(" into your "),t("code",[e._v("client.toml")]),e._v(".\nThis prevents you from having to pass the "),t("code",[e._v("chain-id")]),e._v(" flag with every CLI command.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgY29uZmlnIGNoYWluLWlkIG5pYmlydS1pdG4tMQo="}})],1),e._v(" "),t("h2",{attrs:{id:"send-a-create-validator-transaction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#send-a-create-validator-transaction"}},[e._v("#")]),e._v(" Send a "),t("code",[e._v("create-validator")]),e._v(" transaction")]),e._v(" "),t("p",[e._v("Any participant in the network can become a validator by sending a "),t("code",[e._v("create-validator")]),e._v(" transaction. This involved specifying the following parameters.")]),e._v(" "),t("ul",[t("li",[t("strong",[t("code",[e._v("commistion-max-change-rate")])]),e._v(": The maximum daily increase of the validator commission. This parameter is fixed cannot be changed after the "),t("code",[e._v("create-validator")]),e._v(" transaction is processed.")]),e._v(" "),t("li",[t("strong",[t("code",[e._v("commision-max-rate")])]),e._v(": The maximum commission rate that this validator can charge. This parameter is fixed and cannot be changed after the "),t("code",[e._v("create-validator")]),e._v(" transaction is processed.")]),e._v(" "),t("li",[t("strong",[t("code",[e._v("commision-rate")])]),e._v(": The commission rate on block rewards and fees charged to delegators. "),t("strong",[e._v("Note")]),e._v(": The "),t("code",[e._v("commission-rate")]),e._v(" value must adhere to the following invariants:\n"),t("ul",[t("li",[e._v("Must be between 0 and the validator's "),t("code",[e._v("commission-max-rate")])]),e._v(" "),t("li",[e._v("Must not exceed the validator's "),t("code",[e._v("commission-max-change-rate")]),e._v(", which is the maximum percentage point change rate "),t("strong",[e._v("per day")]),e._v(". In other words, a validator can only change its commission once per day and within "),t("code",[e._v("commission-max-change-rate")]),e._v(" bounds.")])])]),e._v(" "),t("li",[t("strong",[t("code",[e._v("min-self-delegation")])]),e._v(": Minimum amount of ATOM the validator requires to have bonded at all time. If the validator's self-delegated stake falls below this limit, their validator gets jailed and kicked out of the active validator set.")]),e._v(" "),t("li",[t("strong",[t("code",[e._v("details")])]),e._v(": The validator description. More information is given on this in the next section.")]),e._v(" "),t("li",[t("strong",[t("code",[e._v("pubkey")])]),e._v(': A validator\'s Tendermint pubkey is associated with a private key used to sign "prevotes" and "precommits". It is prefixed with '),t("code",[e._v("nibivalconspub")]),e._v(" and found by executing "),t("code",[e._v("nibid tendermint show-validator")]),e._v(".")]),e._v(" "),t("li",[t("strong",[t("code",[e._v("moniker")])]),e._v(": A (not necessarily unique) name for the validator.")])]),e._v(" "),t("p",[e._v("After a validator is created, NIBI holders can delegate NIBI to the validator, effectively adding stake to the validator's pool. The total stake of an address is the combination of NIBI bonded by delegators and NIBI self-bonded by the validator.")]),e._v(" "),t("p",[e._v("Of all of the validators that send a "),t("code",[e._v("staking create-validator")]),e._v(" transaction, those with the highest total stake are designated members of the validator set. If a validator's total stake falls too low, that validator loses its validator privileges and becomes unable to participate in consensus or generate rewards. Over time, the maximum number of validators may be increased via on-chain governance proposals.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"bmliaWQgdHggc3Rha2luZyBjcmVhdGUtdmFsaWRhdG9yIFwKLS1hbW91bnQgMTAwMDAwMDB1bmliaSBcCi0tY29tbWlzc2lvbi1tYXgtY2hhbmdlLXJhdGUgJnF1b3Q7MC4xJnF1b3Q7IFwKLS1jb21taXNzaW9uLW1heC1yYXRlICZxdW90OzAuMjAmcXVvdDsgXAotLWNvbW1pc3Npb24tcmF0ZSAmcXVvdDswLjEmcXVvdDsgXAotLW1pbi1zZWxmLWRlbGVnYXRpb24gJnF1b3Q7MSZxdW90OyBcCi0tZGV0YWlscyAmcXVvdDtwdXQgeW91ciB2YWxpZGF0b3IgZGVzY3JpcHRpb24gdGhlcmUmcXVvdDsgXAotLXB1YmtleT0kKG5pYmlkIHRlbmRlcm1pbnQgc2hvdy12YWxpZGF0b3IpIFwKLS1tb25pa2VyICZsdDt5b3VyX21vbmlrZXImZ3Q7IFwKLS1jaGFpbi1pZCBuaWJpcnUtaXRuLTEgXAotLWdhcy1wcmljZXMgMC4wMjV1bmliaSBcCi0tZnJvbSAmbHQ7a2V5LW5hbWUmZ3Q7Cg=="}}),e._v(" "),t("p",[e._v("You can verify your node is in the validator set status by viewing the "),t("a",{attrs:{href:"https://explorer.testnet.nibiru.fi/",target:"_blank",rel:"noopener noreferrer"}},[e._v("testnet block explorer"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"editing-the-public-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#editing-the-public-description"}},[e._v("#")]),e._v(" Editing the public description")]),e._v(" "),t("p",[e._v("You can edit your validator's public description. This info is to identify your validator, and will be relied on by delegators to decide which validators to stake to. Make sure to provide input for every flag below. If a flag is not included in the command the field will default to empty ("),t("code",[e._v("--moniker")]),e._v(" defaults to the machine name) if the field has never been set or remain the same if it has been set in the past.")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("<key_name>")]),e._v(" passed as the value for the "),t("code",[e._v("--from")]),e._v(" flag specifies which validator you are editing. If you choose to not include certain flags, remember that the "),t("code",[e._v("--from")]),e._v(" in particular must be included to identify which validator to update.")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("--identity")]),e._v(" can be used as to verify identity with systems like Keybase or UPort. When using with Keybase "),t("code",[e._v("--identity")]),e._v(" should be populated with a 16-digit string that is generated with a "),t("a",{attrs:{href:"https://keybase.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("keybase.io"),t("OutboundLink")],1),e._v(" account. It's a cryptographically secure method of verifying your identity across multiple online networks. The Keybase API allows us to retrieve your Keybase avatar. This is how you can add a logo to your validator profile.")]),e._v(" "),t("h2",{attrs:{id:"states-for-validators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#states-for-validators"}},[e._v("#")]),e._v(" States for validators")]),e._v(" "),t("p",[e._v("After a validator is created with a "),t("code",[e._v("create-validator")]),e._v(" transaction, the validator is in one of three states:")]),e._v(" "),t("ul",[t("li",[t("p",[t("code",[e._v("in validator set")]),e._v(": Validator is in the active set and participates in consensus. The validator is earning rewards and can be slashed for misbehavior.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("jailed")]),e._v(": Validator misbehaved and is in jail, i.e. outside of the validator set.")]),e._v(" "),t("ul",[t("li",[e._v("If the jailing is due to being offline for too long (i.e. having missed more than "),t("code",[e._v("95%")]),e._v(" out of the last "),t("code",[e._v("10,000")]),e._v(" blocks), the validator can send an "),t("code",[e._v("unjail")]),e._v(" transaction in order to re-enter the validator set.")]),e._v(" "),t("li",[e._v("If the jailing is due to double signing, the validator cannot unjail.")])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("unbonded")]),e._v(": Validator is not in the active set, and therefore not signing blocks. The validator cannot be slashed and does not earn any reward. It is still possible to delegate NIBI to an unbonded validator. Undelegating from an "),t("code",[e._v("unbonded")]),e._v(" validator is immediate, meaning that the tokens are not subject to the unbonding period.")])])]),e._v(" "),t("h2",{attrs:{id:"unjailing-a-validator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unjailing-a-validator"}},[e._v("#")]),e._v(" Unjailing a validator")]),e._v(" "),t("p",[e._v('When a validator is "jailed" for downtime, you must submit a '),t("code",[e._v("slashing unjail")]),e._v(" transaction from the operator account in order to be able to get block proposer rewards again (depends on the zone fee distribution).")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bmliaWQgdHggc2xhc2hpbmcgdW5qYWlsIFwKICAtLWZyb209Jmx0O2tleV9uYW1lJmd0OyBcCiAgLS1jaGFpbi1pZD0mbHQ7Y2hhaW5faWQmZ3Q7Cg=="}}),e._v(" "),t("h2",{attrs:{id:"confirming-your-validator-is-running"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#confirming-your-validator-is-running"}},[e._v("#")]),e._v(" Confirming your validator is running")]),e._v(" "),t("p",[e._v("Your validator is active if the following command returns anything:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bmliaWQgcXVlcnkgdGVuZGVybWludC12YWxpZGF0b3Itc2V0IHwgZ3JlcCAmcXVvdDskKG5pYmlkIHRlbmRlcm1pbnQgc2hvdy1hZGRyZXNzKSZxdW90Owo="}}),e._v(" "),t("p",[e._v("You should now see your validator in one of Nibiru explorers. You are looking for the "),t("code",[e._v("bech32")]),e._v(" encoded "),t("code",[e._v("address")]),e._v(" in the "),t("code",[e._v("~/.nibid/config/priv_validator.json")]),e._v(" file.")])],1)}),[],!1,null,null,null);t.default=o.exports}}]);